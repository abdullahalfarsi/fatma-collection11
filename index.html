<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± ÙØ§Ø·Ù…Ù‡</title>
<style>
body { margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:#f5f5f7; }
header { background:rgb(85, 63, 2); padding:15px 20px; display:flex; flex-wrap:wrap; justify-content:space-between; align-items:center; box-shadow:0 2px 6px #0001; position:relative; border-bottom:3px solid rgb(255,165,0); }
.logo { display:flex; align-items:center; gap:10px; }
.logo-box { width:45px; height:45px; background:linear-gradient(135deg,#010005,#948928); border-radius:12px; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; }
.container { max-width:1200px; margin:auto; padding:20px; display:grid; grid-template-columns:1fr 3fr; gap:20px; }
aside { background:#f9f5ef; padding:20px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,0.1); transition:0.3s; }
aside:hover { box-shadow:0 6px 18px rgba(0,0,0,0.15); }
aside h3 { color:rgb(85, 63, 2); margin-bottom:10px; font-size:18px; border-bottom:2px solid rgb(255,165,0); padding-bottom:5px; }
.btn { padding:10px 15px; border:1px solid #ddd; border-radius:12px; background:white; cursor:pointer; transition:0.3s all; font-size:14px; margin:5px 0; width:100%; text-align:center; }
.btn:hover { transform:translateY(-2px); background:rgb(255,245,220); box-shadow:0 3px 6px rgba(0,0,0,0.1); }
.btn.active { background:rgb(255,200,0); border-color:rgb(255,165,0); color:white; box-shadow:0 4px 8px rgba(0,0,0,0.2); }
.colors { display:flex; flex-wrap:wrap; gap:5px; margin-top:5px; }
.colors button { flex:1 1 30%; padding:8px; border:1px solid #ccc; border-radius:10px; cursor:pointer; transition:0.3s; font-size:13px; font-weight:bold; background:#2b2b2b; color:white; box-shadow:0 2px 5px rgba(0,0,0,0.3); }
.colors button:hover { transform:scale(1.05); box-shadow:0 4px 10px rgba(0,0,0,0.4); }
.colors button.active { border:2px solid rgb(255,165,0); background:rgb(255,200,0); color:white; box-shadow:0 4px 10px rgba(0,0,0,0.5); }
.product-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(200px,1fr)); gap:15px; }
.card { background:rgb(85, 63, 2); border-radius:16px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,0.2); color:white; display:flex; flex-direction:column; justify-content:space-between; transition:0.3s; }
.card:hover { transform:translateY(-5px); box-shadow:0 6px 15px rgba(0,0,0,0.3); }
.card-img { height:160px; background:#eee; border-radius:12px; display:flex; align-items:center; justify-content:center; margin-bottom:10px; overflow:hidden; }
.card-img img { width:100%; height:100%; object-fit:cover; border-radius:10px; }
.modal { position:fixed; inset:0; background:#0008; display:flex; align-items:center; justify-content:center; opacity:0; visibility:hidden; transition:opacity 0.3s ease, visibility 0.3s; z-index:1000; }
.modal.show { opacity:1; visibility:visible; }
.modal-box { background:white; padding:20px; border-radius:16px; width:90%; max-width:400px; text-align:center; box-shadow:0 5px 15px rgba(0,0,0,0.3); transform: scale(0.8); transition: transform 0.3s ease; }
.modal.show .modal-box { transform: scale(1); }
.modal-box h2 { margin-bottom:10px; font-size:18px; }
.thumbnail { width:45px; height:45px; margin:5px; border:1px solid #ddd; cursor:pointer; object-fit:cover; border-radius:8px; transition:0.3s; }
.thumbnail.active { border:2px solid rgb(85,63,2); transform:scale(1.1); }
#cartIcon { position:absolute; top:15px; left:50%; transform:translateX(-50%); width:50px; height:50px; background:rgb(255,165,0); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; font-weight:bold; color:white; font-size:18px; box-shadow:0 2px 5px #0003; z-index:1001; transition:0.3s; }
#cartIcon:hover { transform:scale(1.1); }
#cartDropdown { display:none; position:absolute; top:75px; left:50%; transform:translateX(-50%); background:#fff; border-radius:16px; padding:15px; width:90%; max-width:350px; box-shadow:0 8px 20px rgba(0,0,0,0.25); z-index:1001; transition:0.3s; }
.cart-item { display:flex; align-items:center; justify-content:space-between; background:#f9f5ef; padding:8px 10px; border-radius:12px; margin-bottom:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); transition:0.2s; }
.cart-item:hover { box-shadow:0 4px 10px rgba(0,0,0,0.15); }
.cart-item img { width:50px; height:50px; object-fit:cover; border-radius:10px; margin-right:10px; }
.cart-item-details { flex:1; display:flex; flex-direction:column; gap:2px; }
.cart-item-details span { font-size:14px; font-weight:600; }
.cart-item-controls { display:flex; align-items:center; gap:5px; }
.cart-item-controls button { padding:2px 6px; font-size:13px; border-radius:6px; border:none; background:rgb(85,63,2); color:#fff; cursor:pointer; transition:0.2s; }
.cart-item-controls button:hover { background:rgb(255,165,0); }
.cart-total { text-align:center; font-weight:bold; margin-top:10px; padding-top:10px; border-top:1px solid #ddd; }
#checkoutPage { display:none; padding:20px; max-width:600px; margin:auto; }
#checkoutPage input { width:100%; margin:5px 0; padding:8px; border-radius:8px; border:1px solid #ddd; font-size:14px; }
#checkoutPage button { padding:10px 15px; border:none; border-radius:10px; background:rgb(85,63,2); color:white; cursor:pointer; margin-top:10px; font-size:14px; transition:0.3s; }
#checkoutPage button:hover { transform:scale(1.05); box-shadow:0 4px 10px rgba(0,0,0,0.2); }
#offers { display:flex; gap:10px; overflow-x:auto; margin-bottom:20px; }
#offers div { min-width:180px; padding:10px; border-radius:12px; text-align:center; font-weight:bold; flex-shrink:0; font-size:14px; transition:0.3s; cursor:pointer; }
#offers div:hover { transform:scale(1.05); box-shadow:0 3px 6px rgba(0,0,0,0.15); }
.offer1 { background:rgb(255,200,0); }
.offer2 { background:rgb(255,100,0); }
.offer3 { background:rgb(0,150,255); color:white; }
.currency-options { display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
.currency-btn { flex:1 1 45%; padding:10px 12px; background:rgb(245,245,245); border-radius:12px; border:2px solid #ddd; text-align:center; cursor:pointer; font-weight:bold; transition:0.3s all; display:flex; align-items:center; justify-content:center; gap:6px; font-size:14px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
.currency-btn .flag { font-size:18px; }
.currency-btn:hover { transform:scale(1.05); background:rgb(255,215,0); color:white; box-shadow:0 4px 10px rgba(0,0,0,0.2); }
.currency-btn.active { background:rgb(255,200,0); color:white; border-color:rgb(255,165,0); box-shadow:0 4px 12px rgba(0,0,0,0.3); }
@media (max-width:768px){
  header { flex-direction:column; gap:10px; padding:10px; }
  #search { width:100%; max-width:100%; margin-top:10px; }
  .container { grid-template-columns:1fr; padding:10px; }
  aside { width:100%; margin-bottom:20px; padding:10px; }
  .product-grid { grid-template-columns:repeat(auto-fill, minmax(140px,1fr)); gap:10px; }
  .card-img { height:120px; }
  .thumbnail { width:35px; height:35px; }
  #cartIcon { top:10px; width:45px; height:45px; font-size:16px; }
  #cartDropdown { top:65px; width:95%; }
  #offers div { min-width:150px; font-size:13px; }
  .btn { padding:6px 8px; font-size:13px; }
  .modal-box { padding:15px; width:95%; }
  .modal-box h2 { font-size:16px; }
  .colors button { font-size:12px; }
}
</style>
</head>
<body>

<header>
  <div class="logo">
    <div class="logo-box">F</div>
    <div>
      <h2 style="margin:0; font-size:18px;"> FATMA COLLECTION </h2>
      <small style="color:#000000; font-size:12px;">Ù…ØªØ¬Ø± Ù„Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù†Ø³Ø§Ø¦ÙŠØ© ÙˆØ¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ</small>
    </div>
  </div>
  <input id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬" />
  <div id="cartIcon" onclick="toggleCart()">ğŸ›’<span id="cartCount">0</span></div>
  <div id="cartDropdown"><div id="cartContent"></div><button onclick="goToCheckout()">Ø§Ù„Ø¯ÙØ¹</button></div>
</header>

<div id="mainContent">
<div class="container">
  <aside>
    <h3>Ø§Ù„ÙØ¦Ø§Øª</h3>
    <button class="btn active" onclick="filterCategory('all')">Ø§Ù„ÙƒÙ„</button>
    <button class="btn" onclick="filterCategory('jacket')">Ø§Ù„Ø¬Ø§ÙƒÙŠØªØ§Øª</button>
    <button class="btn" onclick="filterCategory('case')">ÙƒÙØ±Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„</button>
    <hr>
    <h3>Ø§Ù„Ù„ÙˆÙ†</h3>
    <div class="colors">
      <button class="btn active" onclick="filterColor('all')">Ø§Ù„ÙƒÙ„</button>
      <button class="btn" onclick="filterColor('Ø£Ø³ÙˆØ¯')">Ø£Ø³ÙˆØ¯</button>
      <button class="btn" onclick="filterColor('Ø±Ù…Ø§Ø¯ÙŠ')">Ø±Ù…Ø§Ø¯ÙŠ</button>
      <button class="btn" onclick="filterColor('Ø¨Ù†ÙŠ')">Ø¨Ù†ÙŠ</button>
      <button class="btn" onclick="filterColor('Ø´ÙØ§Ù')">Ø´ÙØ§Ù</button>
      <button class="btn" onclick="filterColor('Ø£Ø¨ÙŠØ¶')">Ø£Ø¨ÙŠØ¶</button>
      <button class="btn" onclick="filterColor('Ø¨ÙŠØ¬')">Ø¨ÙŠØ¬</button>
      <button class="btn" onclick="filterColor('Ø£Ø­Ù…Ø±')">Ø£Ø­Ù…Ø±</button>
      <button class="btn" onclick="filterColor('Ø£Ø²Ø±Ù‚')">Ø£Ø²Ø±Ù‚</button>
      <button class="btn" onclick="filterColor('Ø£Ø®Ø¶Ø±')">Ø£Ø®Ø¶Ø±</button>
      <button class="btn" onclick="filterColor('Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­')">Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­</button>
    </div>
    <hr>
    <h3>Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø©</h3>
    <div class="currency-options">
      <div class="currency-btn active" data-currency="OMR" onclick="selectCurrency(this)"><span class="flag">ğŸ‡´ğŸ‡²</span> Ø±.Ø¹</div>
      <div class="currency-btn" data-currency="USD" onclick="selectCurrency(this)"><span class="flag">ğŸ‡ºğŸ‡¸</span> $</div>
      <div class="currency-btn" data-currency="SAR" onclick="selectCurrency(this)"><span class="flag">ğŸ‡¸ğŸ‡¦</span> Ø±.Ø³</div>
      <div class="currency-btn" data-currency="AED" onclick="selectCurrency(this)"><span class="flag">ğŸ‡¦ğŸ‡ª</span> Ø¯.Ø¥</div>
      <div class="currency-btn" data-currency="KWD" onclick="selectCurrency(this)"><span class="flag">ğŸ‡°ğŸ‡¼</span> Ø¯.Ùƒ</div>
      <div class="currency-btn" data-currency="QAR" onclick="selectCurrency(this)"><span class="flag">ğŸ‡¶ğŸ‡¦</span> Ø±.Ù‚</div>
      <div class="currency-btn" data-currency="BHD" onclick="selectCurrency(this)"><span class="flag">ğŸ‡§ğŸ‡­</span> Ø¯.Ø¨</div>
    </div>
  </aside>

  <section>
    <h1>Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª</h1>
    <div id="offers">
      <div class="offer1">Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙØ±Ø§Øª!</div>
      <div class="offer2">Ø§Ø´ØªØ±Ù Ø¬Ø§ÙƒÙŠØªÙŠÙ† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø«Ø§Ù„Ø« Ù…Ø¬Ø§Ù†Ø§Ù‹!</div>
      <div class="offer3">Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 50 Ø±.Ø¹</div>
    </div>
    <h1>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>
    <div class="product-grid" id="products"></div>
  </section>
</div>
</div>

<div id="checkoutPage">
  <h2>ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹</h2>
  <div id="checkoutProducts"></div>
  <form id="checkoutForm">
    <input type="text" placeholder="Ø§Ù„Ø£Ø³Ù…" required>
    <input type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
    <input type="text" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required>
    <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø£Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
    <button type="submit">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹</button>
  </form>
</div>

<div class="modal" id="modal"><div class="modal-box" id="modalBox"></div></div>

<select id="currency" onchange="render()" style="display:none">
  <option value="OMR" selected>Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ Ø±.Ø¹</option>
  <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ $</option>
  <option value="SAR">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ Ø±.Ø³</option>
  <option value="AED">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ Ø¯.Ø¥</option>
  <option value="KWD">Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ Ø¯.Ùƒ</option>
  <option value="QAR">Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ Ø±.Ù‚</option>
  <option value="BHD">Ø¯ÙŠÙ†Ø§Ø± Ø¨Ø­Ø±ÙŠÙ†ÙŠ Ø¯.Ø¨</option>
</select>

<script>
const products = [
{id:'j1',type:'jacket',title:'Ø¬Ø§ÙƒÙŠØª Ø´ØªÙˆÙŠ',price:20,colors:['Ø£Ø³ÙˆØ¯','Ø¨Ù†ÙŠ','Ø£Ø¨ÙŠØ¶'],images:{'Ø£Ø³ÙˆØ¯':['images/IMG_9748.png'],'Ø¨Ù†ÙŠ':['images/IMG_9749.png'],'Ø£Ø¨ÙŠØ¶':['images/index.html.png']}},
{id:'j2',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ',price:149,colors:['Ø¨ÙŠØ¬'],images:{'Ø¨ÙŠØ¬':['images/31d41d6d-19dd-4e78-b87c-55938abf6324.jpg','images/dcda5065-d609-4434-b8e6-064e3f634acb.jpg','images/f09ddeb3-86bb-4449-a7f2-7f61d4071dca.jpg']}},
{id:'j3',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø£Ø²Ø±Ù‚',price:149,colors:['Ø£Ø²Ø±Ù‚'],images:{'Ø£Ø²Ø±Ù‚':['images/IMG_9793.png','images/IMG_9794.png','images/IMG_9795.png']}},
{id:'c1',type:'case',title:'ÙƒÙØ± Ø´ÙØ§Ù',price:19,colors:['Ø´ÙØ§Ù'],images:{'Ø´ÙØ§Ù':['images/e0287c8e-c965-40fd-b51f-137e23f0ea13.jpg']}},
{id:'c2',type:'case',title:'ÙƒÙØ± Ø¬Ù„Ø¯',price:29,colors:['Ø¨Ù†ÙŠ'],images:{'Ø¨Ù†ÙŠ':['images/IMG_9756.png']}},
{id:'j4',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø±Ù…Ø§Ø¯ÙŠ',price:120,colors:['Ø±Ù…Ø§Ø¯ÙŠ'],images:{'Ø±Ù…Ø§Ø¯ÙŠ':['images/IMG_9798.png','images/IMG_9799.png','images/IMG_9800.png','images/IMG_9801.png']}},
{id:'j5',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø±Ù…Ø§Ø¯ÙŠ',price:135,colors:['Ø±Ù…Ø§Ø¯ÙŠ'],images:{'Ø±Ù…Ø§Ø¯ÙŠ':['images/51a9aa28-5c17-4267-8227-982f4c0005db.jpg','images/green2.png']}},
{id:'j6',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø£Ø­Ù…Ø±',price:110,colors:['Ø£Ø­Ù…Ø±'],images:{'Ø£Ø­Ù…Ø±':['images/red1.png','images/red2.png']}},
{id:'j7',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø¨Ù†ÙŠ',price:140,colors:['Ø¨Ù†ÙŠ'],images:{'Ø¨Ù†ÙŠ':['images/51a9aa28-5c17-4267-8227-982f4c0005db.jpg','images/brown2.png']}},
{id:'j8',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­',price:125,colors:['Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­'],images:{'Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­':['images/lightblue1.png','images/lightblue2.png']}}
];

const exchangeRates = { USD:1, SAR:3.75, AED:3.67, OMR:0.39, KWD:0.31, QAR:3.64, BHD:0.38 };
const currencySymbols = { USD:'$', SAR:'Ø±.Ø³', AED:'Ø¯.Ø¥', OMR:'Ø±.Ø¹', KWD:'Ø¯.Ùƒ', QAR:'Ø±.Ù‚', BHD:'Ø¯.Ø¨' };
let category='all', color='all', cart=[];

function convertPrice(price){ 
  const cur = document.getElementById('currency').value; 
  return (price * exchangeRates[cur]).toFixed(2) + ' ' + currencySymbols[cur]; 
}

function render(){ 
  const list=document.getElementById('products'); 
  list.innerHTML=''; 
  const search=document.getElementById('search').value.trim(); 
  products.filter(p=>(category==='all'||p.type===category)&&(color==='all'||p.colors.includes(color))&&(p.title.includes(search))).forEach(p=>{ 
    const firstImg = Object.values(p.images)[0][0]; 
    list.innerHTML+=`
      <div class='card'>
        <div class='card-img'><img src="${firstImg}" alt=""></div>
        <h3>${p.title}</h3>
        <p><b>${convertPrice(p.price)}</b></p>
        <button class='btn' onclick="showDetails('${p.id}')">Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
        <button class='btn' style="margin-top:5px;" onclick="addToCart('${p.id}')">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
      </div>`; 
  }); 
  updateCartCount();
}

function filterCategory(c){ category=c; document.querySelectorAll('aside .btn').forEach(b=>b.classList.remove('active')); event.target.classList.add('active'); render(); }
function filterColor(c){ color=c; document.querySelectorAll('.colors .btn').forEach(b=>b.classList.remove('active')); event.target.classList.add('active'); render(); }

function showDetails(id){
  const product = products.find(p=>p.id===id);
  if(!product) return;
  let imagesHtml = '';
  const colorKeys = Object.keys(product.images);
  for(let col of colorKeys){
    product.images[col].forEach((img,index)=>{
      imagesHtml += `<img class="thumbnail ${index===0?'active':''}" src="${img}" onclick="showImage('${img}', this)">`;
    });
  }
  document.getElementById('modalBox').innerHTML = `
    <h2>${product.title}</h2>
    <img id="mainImage" src="${Object.values(product.images)[0][0]}" style="width:100%; border-radius:12px; margin-bottom:10px;">
    <p><b>Ø§Ù„Ø³Ø¹Ø±: ${convertPrice(product.price)}</b></p>
    <div>${imagesHtml}</div>
    <p style="margin-top:10px; color:red; font-weight:bold;">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø¥Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡</p>
    <button class="btn" onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
  `;
  document.getElementById('modal').classList.add('show');
}

function showImage(src, el){
  document.getElementById('mainImage').src = src;
  const siblings = el.parentNode.querySelectorAll('img');
  siblings.forEach(s=>s.classList.remove('active'));
  el.classList.add('active');
}

function closeModal(){ document.getElementById('modal').classList.remove('show'); }

function addToCart(id){
  const product = products.find(p=>p.id===id);
  if(!product) return;
  const existing = cart.find(item => item.id===id);
  if(existing){
    existing.qty += 1;
  } else {
    cart.push({id:product.id,title:product.title,price:product.price,qty:1,img:Object.values(product.images)[0][0]});
  }
  updateCartCount();
  renderCart();
}

function updateCartCount(){
  document.getElementById('cartCount').textContent = cart.reduce((a,b)=>a+b.qty,0);
}

function renderCart(){
  const cartContent = document.getElementById('cartContent');
  if(cart.length===0){
    cartContent.innerHTML = '<p style="text-align:center; font-weight:bold; padding:10px;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>';
    return;
  }
  let html = '';
  let total = 0;
  cart.forEach(item=>{
    total += item.price * item.qty;
    html += `
      <div class="cart-item">
        <img src="${item.img}" alt="">
        <div class="cart-item-details">
          <span>${item.title}</span>
          <span>${convertPrice(item.price*item.qty)}</span>
        </div>
        <div class="cart-item-controls">
          <button onclick="updateQty('${item.id}', -1)">-</button>
          <span>${item.qty}</span>
          <button onclick="updateQty('${item.id}', 1)">+</button>
          <button onclick="removeFromCart('${item.id}')">x</button>
        </div>
      </div>`;
  });
  html += `<div class="cart-total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${convertPrice(total)}</div>`;
  cartContent.innerHTML = html;
}

function updateQty(id, change){
  const item = cart.find(i=>i.id===id);
  if(!item) return;
  item.qty += change;
  if(item.qty < 1) item.qty = 1;
  renderCart();
  updateCartCount();
}

function removeFromCart(id){
  cart = cart.filter(item => item.id!==id);
  updateCartCount();
  renderCart();
}

function toggleCart(){
  const cartDrop=document.getElementById('cartDropdown');
  cartDrop.style.display = cartDrop.style.display==='block'?'none':'block';
  renderCart();
}

function goToCheckout(){
  if(cart.length===0){
    alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!');
    return;
  }
  document.getElementById('mainContent').style.display='none';
  document.getElementById('checkoutPage').style.display='block';
  const checkoutProducts = document.getElementById('checkoutProducts');
  let html = '<ul>';
  let total = 0;
  cart.forEach(item=>{
    total += item.price * item.qty;
    html += `<li>${item.title} (${item.qty}) - ${convertPrice(item.price*item.qty)}</li>`;
  });
  html += `</ul><p><b>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${convertPrice(total)}</b></p>`;
  checkoutProducts.innerHTML = html;
}

document.getElementById('search').addEventListener('input',render);

function selectCurrency(el){
  document.querySelectorAll('.currency-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  document.getElementById('currency').value = el.dataset.currency;
  render();
}

render();
</script>
</body>
</html>
