<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± ÙØ§Ø·Ù…Ù‡</title>
<style>
body { margin:0; font-family: sans-serif; background:#f5f5f7; }
header { background:rgb(85, 63, 2); padding:20px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 6px #0001; position:relative; }
.logo { display:flex; align-items:center; gap:10px; }
.logo-box { width:45px; height:45px; background:linear-gradient(135deg,#010005,#948928); border-radius:12px; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; }
.container { max-width:1200px; margin:auto; padding:20px; display:grid; grid-template-columns:1fr 3fr; gap:20px; }
aside { background:rgb(207, 202, 202); padding:20px; border-radius:16px; box-shadow:0 2px 4px #0001; }
.btn { padding:8px 12px; border:1px solid #ddd; border-radius:10px; background:white; cursor:pointer; transition:0.3s; }
.btn:hover { background:#f5f5f5; }
.btn.active { background:#f5f5f5; border-color:#f7f7f7; }
.colors button { margin:3px; }
.product-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(250px,1fr)); gap:20px; }
.card { background:rgb(85, 63, 2); border-radius:16px; padding:15px; box-shadow:0 2px 4px #0001; color:white; display:flex; flex-direction:column; justify-content:space-between; }
.card-img { height:160px; background:#eee; border-radius:12px; display:flex; align-items:center; justify-content:center; margin-bottom:10px; overflow:hidden; }
.card-img img { width:100%; height:100%; object-fit:cover; }
.modal { position:fixed; inset:0; background:#0008; display:flex; align-items:center; justify-content:center; opacity:0; visibility:hidden; transition:opacity 0.3s ease, visibility 0.3s; z-index:1000; }
.modal.show { opacity:1; visibility:visible; }
.modal-box { background:white; padding:25px; border-radius:20px; width:90%; max-width:400px; text-align:center; box-shadow:0 5px 15px rgba(0,0,0,0.3); transform: scale(0.8); transition: transform 0.3s ease; }
.modal.show .modal-box { transform: scale(1); }
.modal-box h2 { margin-bottom:10px; }
.modal-box .payment-option { padding:12px 20px; margin:10px 0; border-radius:12px; border:1px solid #ddd; cursor:pointer; transition:0.3s; font-weight:bold; background:#f5f5f5; }
.modal-box .payment-option:hover { background:#e0e0e0; transform: scale(1.05); }
select, input { padding:5px; border-radius:8px; margin-top:10px; width:100%; }
#cartIcon { position:absolute; top:20px; left:50%; transform:translateX(-50%); width:60px; height:60px; background:rgb(255,165,0); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; font-weight:bold; color:white; font-size:20px; box-shadow:0 2px 5px #0003; z-index:1001; }
#cartDropdown { display:none; position:absolute; top:90px; left:50%; transform:translateX(-50%); background:white; border-radius:12px; padding:10px; width:300px; box-shadow:0 2px 8px #0003; z-index:1001; }
.cart-item { display:flex; justify-content:space-between; margin-bottom:5px; }
#checkoutPage { display:none; padding:20px; max-width:600px; margin:auto; }
#checkoutPage input { width:100%; margin:5px 0; padding:8px; border-radius:8px; border:1px solid #ddd; }
#checkoutPage button { padding:10px 15px; border:none; border-radius:10px; background:rgb(85,63,2); color:white; cursor:pointer; margin-top:10px; }
.thumbnail { width:50px; height:50px; margin:5px; border:1px solid #ddd; cursor:pointer; object-fit:cover; }
.thumbnail.active { border:2px solid rgb(85,63,2); }
/* Ø¹Ø±ÙˆØ¶ ÙˆØ®ØµÙˆÙ…Ø§Øª */
#offers { display:flex; gap:10px; overflow-x:auto; margin-bottom:20px; }
#offers div { min-width:200px; padding:10px; border-radius:12px; text-align:center; font-weight:bold; flex-shrink:0; }
.offer1 { background:rgb(255,200,0); }
.offer2 { background:rgb(255,100,0); }
.offer3 { background:rgb(0,150,255); color:white; }
</style>
</head>
<body>

<header>
  <div class="logo">
    <div class="logo-box">F</div>
    <div>
      <h2 style="margin:0"> FATMA COLLECTION </h2>
      <small style="color:#000000">Ù…ØªØ¬Ø± Ù„Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù†Ø³Ø§Ø¦ÙŠØ© ÙˆØ¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ</small>
    </div>
  </div>
  <input id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬" style="padding:10px; border:1px solid #ddd; border-radius:10px; width:200px;" />
  <div id="cartIcon" onclick="toggleCart()">ğŸ›’<span id="cartCount">0</span></div>
  <div id="cartDropdown"><div id="cartContent"></div><button onclick="goToCheckout()">Ø§Ù„Ø¯ÙØ¹</button></div>
</header>

<div id="mainContent">
<div class="container">
  <aside>
    <h3>Ø§Ù„ÙØ¦Ø§Øª</h3>
    <button class="btn active" onclick="filterCategory('all')">Ø§Ù„ÙƒÙ„</button>
    <button class="btn" onclick="filterCategory('jacket')">Ø§Ù„Ø¬Ø§ÙƒÙŠØªØ§Øª</button>
    <button class="btn" onclick="filterCategory('case')">ÙƒÙØ±Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„</button>

    <hr>
    <h3>Ø§Ù„Ù„ÙˆÙ†</h3>
    <div class="colors">
      <button class="btn active" onclick="filterColor('all')">Ø§Ù„ÙƒÙ„</button>
      <button class="btn" onclick="filterColor('Ø£Ø³ÙˆØ¯')">Ø£Ø³ÙˆØ¯</button>
      <button class="btn" onclick="filterColor('Ø±Ù…Ø§Ø¯ÙŠ')">Ø±Ù…Ø§Ø¯ÙŠ</button>
      <button class="btn" onclick="filterColor('Ø¨Ù†ÙŠ')">Ø¨Ù†ÙŠ</button>
      <button class="btn" onclick="filterColor('Ø´ÙØ§Ù')">Ø´ÙØ§Ù</button>
      <button class="btn" onclick="filterColor('Ø£Ø¨ÙŠØ¶')">Ø£Ø¨ÙŠØ¶</button>
      <button class="btn" onclick="filterColor('Ø¨ÙŠØ¬')">Ø¨ÙŠØ¬</button>
      <button class="btn" onclick="filterColor('Ø£Ø­Ù…Ø±')">Ø£Ø­Ù…Ø±</button>
    </div>

   

    <hr>
    <h3>Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø©</h3>
    <select id="currency" onchange="render()">
      <option value="OMR" selected>Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ Ø±.Ø¹</option>
      <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ $</option>
      <option value="SAR">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ Ø±.Ø³</option>
      <option value="AED">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ Ø¯.Ø¥</option>
      <option value="KWD">Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ Ø¯.Ùƒ</option>
      <option value="QAR">Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ Ø±.Ù‚</option>
      <option value="BHD">Ø¯ÙŠÙ†Ø§Ø± Ø¨Ø­Ø±ÙŠÙ†ÙŠ Ø¯.Ø¨</option>
    </select>
  </aside>

  <section>
    <h1>Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª</h1>
    <div id="offers">
      <div class="offer1">Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙØ±Ø§Øª!</div>
      <div class="offer2">Ø§Ø´ØªØ±Ù Ø¬Ø§ÙƒÙŠØªÙŠÙ† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø«Ø§Ù„Ø« Ù…Ø¬Ø§Ù†Ø§Ù‹!</div>
      <div class="offer3">Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ 50 Ø±.Ø¹</div>
    </div>

    <h1>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>
    <div class="product-grid" id="products"></div>
  </section>
</div>
</div>

<div id="checkoutPage">
  <h2>ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹</h2>
  <div id="checkoutProducts"></div>
  <form id="checkoutForm">
    <input type="text" placeholder="Ø§Ù„Ø£Ø³Ù…" required>
    <input type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
    <input type="text" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required>
    <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø£Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
    <button type="submit">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹</button>
  </form>
</div>

<div class="modal" id="modal"></div>

<script>
const products=[
 {id:'j1',type:'jacket',title:'Ø¬Ø§ÙƒÙŠØª Ø´ØªÙˆÙŠ',price:20,colors:['Ø£Ø³ÙˆØ¯','Ø¨Ù†ÙŠ','Ø£Ø¨ÙŠØ¶'],images:{'Ø£Ø³ÙˆØ¯':['images/IMG_9748.png','images/IMG_9749.png','images/index.html.png'],'Ø¨Ù†ÙŠ':['images/IMG_9756.png']}},
 {id:'j2',type:'jacket',title:'Ø¨Ù„ÙˆÙØ± Ø´ØªÙˆÙŠ ',price:149,colors:['Ø¨ÙŠØ¬'],images:{'Ø¨ÙŠØ¬':['images/31d41d6d-19dd-4e78-b87c-55938abf6324.jpg',"images/dcda5065-d609-4434-b8e6-064e3f634acb.jpg","images/f09ddeb3-86bb-4449-a7f2-7f61d4071dca.jpg"]}},
 {id:'c1',type:'case',title:'Ø¬Ø§ÙƒÙŠØª Ø£Ù†ÙŠÙ‚ ',price:19,colors:['Ø£Ø­Ù…Ø±','Ø£Ø³ÙˆØ¯'],latest:true,images:{'Ø£Ø­Ù…Ø±':['images/e0287c8e-c965-40fd-b51f-137e23f0ea13.jpg',"images/ec3f2285-7f6e-46a4-a1e5-1b34b97024fc.jpg"],'Ø£Ø³ÙˆØ¯':['images/index_black.png']}},
 {id:'c2',type:'case',title:'ÙƒÙØ± Ø¬Ù„Ø¯',price:29,colors:['Ø¨Ù†ÙŠ'],latest:true,images:{'Ø¨Ù†ÙŠ':['images/IMG_9756.png']}}
];
const exchangeRates = { USD:1, SAR:3.75, AED:3.67, OMR:0.39, KWD:0.31, QAR:3.64, BHD:0.38 };
const currencySymbols = { USD:'$', SAR:'Ø±.Ø³', AED:'Ø¯.Ø¥', OMR:'Ø±.Ø¹', KWD:'Ø¯.Ùƒ', QAR:'Ø±.Ù‚', BHD:'Ø¯.Ø¨' };

let category='all', color='all', cart=[], currentProduct=null;

function convertPrice(price){
  const cur = document.getElementById('currency').value;
  return (price * exchangeRates[cur]).toFixed(2) + ' ' + currencySymbols[cur];
}

function render(){
 const list=document.getElementById('products');
 list.innerHTML='';
 const search=document.getElementById('search').value;
 products.filter(p=>
   (category==='all'||p.type===category)&&
   (color==='all'||p.colors.includes(color))&&
   (p.title.includes(search))
 ).forEach(p=>{
   const firstImg = Object.values(p.images)[0][0];
   list.innerHTML+=`
     <div class='card'>
       <div class='card-img'><img src="${firstImg}" alt=""></div>
       <h3>${p.title}</h3>
       <p><b>${convertPrice(p.price)}</b></p>
       <button class='btn' onclick="showDetails('${p.id}')">Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
       <button class='btn' style="margin-top:5px;" onclick="goToCheckout()">Ø§Ù„Ø¯ÙØ¹</button>
     </div>`;
 });
}

function renderLatest(){
 const l=document.getElementById('latest');
 l.innerHTML='';
 products.filter(p=>p.latest).forEach(p=>{
   l.innerHTML+=`<div style='margin-bottom:10px;'>ğŸ“± ${p.title} â€” ${convertPrice(p.price)}</div>`;
 });
}

function filterCategory(c){ category=c; render(); }
function filterColor(c){ color=c; render(); }

function showDetails(id){
  currentProduct = products.find(p=>p.id===id);
  const modalEl = document.getElementById('modal');
  let colorOptions = currentProduct.colors.map(c=>`<option value="${c}">${c}</option>`).join('');
  let thumbnails = currentProduct.images[currentProduct.colors[0]].map(img=>`<img src="${img}" class="thumbnail active" onclick="changePreview(this)">`).join('');
  modalEl.innerHTML=`
    <div class="modal-box">
      <h2>${currentProduct.title}</h2>
      <img id="mainPreview" src="${currentProduct.images[currentProduct.colors[0]][0]}" style="width:100%; max-height:200px; object-fit:cover; border-radius:12px; margin-bottom:10px;">
      <div id="thumbnails">${thumbnails}</div>
      <p>Ø§Ù„Ø³Ø¹Ø±: <b>${convertPrice(currentProduct.price)}</b></p>
      <label>Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†:</label>
      <select id="selectedColor" onchange="updateThumbnails()">${colorOptions}</select>
      <br>
      <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
      <input type="number" id="selectedQty" value="1" min="1" style="width:60px; margin-top:5px;">
      <br>
      <button class="btn" onclick="addToCart()">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
      <button class="btn" onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>`;
  modalEl.classList.add('show');
}

function updateThumbnails(){
  const color = document.getElementById('selectedColor').value;
  const imgs = currentProduct.images[color];
  document.getElementById('mainPreview').src = imgs[0];
  document.getElementById('thumbnails').innerHTML = imgs.map(img=>`<img src="${img}" class="thumbnail" onclick="changePreview(this)">`).join('');
  document.querySelectorAll('#thumbnails img')[0].classList.add('active');
}

function changePreview(el){
  document.getElementById('mainPreview').src = el.src;
  document.querySelectorAll('.thumbnail').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
}

function closeModal(){ document.getElementById('modal').classList.remove('show'); }

function addToCart(){
  const color = document.getElementById('selectedColor').value;
  const qty = parseInt(document.getElementById('selectedQty').value);
  const exist = cart.find(i=>i.id===currentProduct.id && i.color===color);
  if(exist){ exist.qty += qty; } else { cart.push({...currentProduct, color, qty}); }
  updateCart();
  alert('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©');
  closeModal();
}

function updateCart(){
  const cartItems=document.getElementById('cartContent');
  cartItems.innerHTML='';
  cart.forEach(item=>{
    cartItems.innerHTML+=`<div class="cart-item">${item.title} (${item.color}) x ${item.qty} = ${convertPrice(item.price*item.qty)} <button onclick="removeCartItem('${item.id}','${item.color}')">âœ•</button></div>`;
  });
  document.getElementById('cartCount').innerText=cart.reduce((sum,i)=>sum+i.qty,0);
}

function removeCartItem(id,color){ cart = cart.filter(i=>!(i.id===id && i.color===color)); updateCart(); }

function toggleCart(){ const c = document.getElementById('cartDropdown'); c.style.display = c.style.display==='block'?'none':'block'; }

function goToCheckout(){
  if(cart.length===0){ alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©"); return; }
  document.getElementById('mainContent').style.display='none';
  document.getElementById('checkoutPage').style.display='block';
  const checkoutProducts=document.getElementById('checkoutProducts');
  checkoutProducts.innerHTML='';
  cart.forEach(item=>{ checkoutProducts.innerHTML+=`<div>${item.title} (${item.color}) x ${item.qty} = ${convertPrice(item.price*item.qty)}</div>`; });
}

document.getElementById('search').onkeyup=render;
render();
renderLatest();

document.getElementById('checkoutForm').onsubmit = function(e){
  e.preventDefault();
  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ù„Ø´Ø±Ø§Ø¡!");
  location.reload();
}
</script>

</body>
</html>
